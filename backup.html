<html>
<title>Fabulous50s - Meal Generating App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" src="https://fabulous50s.com/wp-content/uploads/2023/08/logo-2.svg" type="image/x-icon">
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
body{font-family: "Poppins", sans-serif !important;color: #000;overflow-x: hidden;height: 100%;}.card{padding: 30px 40px;margin-top: 60px;margin-bottom: 60px;border: none !important;box-shadow: 0 6px 12px 0 rgba(0,0,0,0.2);background-image: linear-gradient(180deg, #a5bdfe 9%, #7a57db 100%);}.blue-text{color: #00BCD4}.form-control-label{margin-bottom: 0}input, textarea, button{padding: 8px 15px;border-radius: 5px !important;margin: 5px 0px;box-sizing: border-box;border: 1px solid #ccc;font-size: 18px !important;font-weight: 300}input:focus, textarea:focus{-moz-box-shadow: none !important;-webkit-box-shadow: none !important;box-shadow: none !important;border: 1px solid #00BCD4;outline-width: 0;font-weight: 400}.btn-block{text-transform: uppercase;font-size: 15px !important;font-weight: 400;height: 43px;cursor: pointer}.btn-block:hover{color: #fff !important}button:focus{-moz-box-shadow: none !important;-webkit-box-shadow: none !important;box-shadow: none !important;outline-width: 0}
.loader {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
}
#f50s_button{
    /* font-family: "Gilroy", Sans-serif; */
    font-size: 16px;
    font-weight: 600;
    text-transform: none;
    line-height: 1em;
    letter-spacing: 0px;
    /* background: linear-gradient(180deg, #99b2f4, #8b91e9, #6e4bd0);
     */
    background: linear-gradient(180deg, #99b2f4, #8b91e9, #6e4bd0);
    color: white;
    border-style: solid;
    border-width: .9px;
    border-color: white;
    border-radius: 30px !important;
    box-shadow: 0px 0px 6px 1px #7a57db;
}
label{
    color: white;
    font-weight: 600;
}
input, select{
    border-radius: 30px !important;
    font-size: 16px !important;
    opacity: 80%;
}
#heading-card{
    color: #8074df;
    font-size: 40px;
    font-weight: 800;
    line-height: 1.2em;
}
.image-container {
    text-align: center;
    margin-top: 60px;
}
.image-container img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 6px 12px 0 rgba(0, 0, 0, 0.2);
}
.navbar-light{
    background-color: #8984e4 !important;
    height: 90px;
}

.center-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center; /* Center text alignment */
}
.main-content {
    min-height: 90vh; /* Full viewport height */
    display: flex;
    align-items: center;
}
@media (max-width: 600px) {
    .main-content {
    flex-direction: column; /* Stack elements vertically */
    padding-top: 20px; /* Optional: add some padding for better appearance */
    padding-bottom: 20px; /* Optional: add some padding for better appearance */
    }
    .center-content {
    margin-top: 20px; /* Optional: add some margin for better appearance */
    }
    #heading-card{
        color: #8074df;
        font-size: 30px;
        font-weight: 800;
        line-height: 1.2em;
    }
    .subheading{
        font-size: 18px !important;
    }
    p{
        font-size: 15px;
    }
    legend{
        width: 50% !important;
        font-size: 10px !important;
    }
    select, input, label{
        font-size: 14px !important;
    }
}

.subheading{
    color: #434054;
    font-size: 25px;
    font-weight: 700;
    line-height: 1.2em;
}
/* legend{
    width: 20%;
    font-size: 15px;
} */
</style>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
<body>
    <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><img width="60" height="60" src="https://fabulous50s.com/wp-content/uploads/2023/08/logo-2.svg" class="attachment-full size-full wp-image-36441" alt></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                </ul>
            </div>
        </div>
    </nav>
    <div class="container my-1 main-content">
        <div class="row align-items-center">
            <div class="col-md-6 col-sm-12 col-12">
                <img src="img-1.jpg" class="img-fluid" alt="Placeholder Image">
            </div>
            <div class="col-md-6 col-sm-12 col-12 center-content">
                <h1 id="heading-card">Welcome to Fabulous50s Meal Generation</h1>
                <p class="subheading">Healthy Meal Plan for Women Over 50</p>
                <p>
                    Our meal plan is specifically designed to meet the nutritional needs of women over 50. It includes a balanced mix of lean proteins, whole grains, healthy fats, and plenty of fruits and vegetables.
                </p>
                <div class="form-group col-sm-6">
                    <button type="button" class="btn btn-primary btn-block" id="f50s_button">Get Started</button>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row justify-content-center">
          <div class="col-12 text-center">
            <img src="image1.png" class="img-fluid d-block mx-auto" alt="Responsive Image">
          </div>
        </div>
    </div>
    
    

    <div class="container-fluid px-1 py-5 mx-auto">
        <div class="row d-flex justify-content-center">
            <div class="col-xl-7 col-lg-8 col-md-9 col-11 text-center">
                
                <div class="card">
                    <h5 class="text-center mb-4" style="color:#6e4bd0;font-weight: 600;">Enter your meal preference</h5>
                    <form class="form-card" onsubmit="event.preventDefault()">
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <select id="meal-type" name="meal-type" class="form-control" required>
                                    <option value="">Select your Meal Type</option>
                                    <option value="breakfast">Breakfast</option>
                                    <option value="snack-1">Snack - 1</option>
                                    <option value="lunch">Lunch</option>
                                    <option value="snack-2">Snack - 2</option>
                                    <option value="dinner">Dinner</option>
                                </select>
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <!-- <div class="form-group col-sm-6">  -->
                                    <button type="button" class="btn-block btn-warning" id="f50s_button" onclick="autofillForm()">Autofill Form</button> 
                                <!-- </div> -->
                            </div>
                        </div>
                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Personal Information</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Age<span class="text-danger"> *</span></label>
                                <input type="number" id="age" name="age" placeholder="Enter your age" min="18" max="100" required>
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Gender<span class="text-danger"> *</span></label>
                                <select id="gender" name="gender" class="form-control" required>
                                    <option value="">Select your gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Height (cm)<span class="text-danger"> *</span></label>
                                <input type="number" id="height" name="height" placeholder="Enter your height in cm" min="100" max="250" required>
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Weight (kg)<span class="text-danger"> *</span></label>
                                <input type="number" id="weight" name="weight" placeholder="Enter your weight in kg" min="20" max="500" required>
                            </div>
                        </div>
                        </fieldset>


                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Lifestyle and Activity</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Activity Level<span class="text-danger"> *</span></label>
                                <select id="activity-level" name="activity-level" class="form-control" required>
                                    <option value="">Select your activity level</option>
                                    <option value="sedentary">Sedentary (little or no exercise)</option>
                                    <option value="lightly-active">Lightly Active (light exercise/sports 1-3 days/week)</option>
                                    <option value="moderately-active">Moderately Active (moderate exercise/sports 3-5 days/week)</option>
                                    <option value="very-active">Very Active (hard exercise/sports 6-7 days a week)</option>
                                </select>
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Goals</label>
                                <select id="goals" name="goals" class="form-control">
                                    <option value="">Select a goal</option>
                                    <option value="weight_loss">Weight Loss</option>
                                    <option value="weight_gain">Weight Gain</option>
                                    <option value="maintenance">Maintenance</option>
                                    <option value="muscle_building">Muscle Building</option>
                                </select>
                            </div>
                        </div>
                        </fieldset>
                        
                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Nutritional Preferences</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Macronutrient Ratios</label>
                                <input type="text" id="macronutrient-ratios" name="macronutrient-ratios" placeholder="Carbs, Proteins, Fats (if specific targets are desired)">
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Target Caloric Intake (calories per meal)</label>
                                <input type="number" id="caloric-intake" name="caloric-intake" placeholder="if known">
                            </div>
                        </div>
                        </fieldset>
                        
                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Meal Planning</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Budget Constraints</label>
                                <select id="budget-constraints" name="budget-constraints" class="form-control">
                                    <option value="">Select a budget constraint</option>
                                    <option value="low">Low</option>
                                    <option value="medium">Medium</option>
                                    <option value="high">High</option>
                                </select>
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Preferred Shopping Frequency</label>
                                <select id="shopping-frequency" name="shopping-frequency" class="form-control">
                                    <option value="">Select a shopping frequency</option>
                                    <option value="daily">Daily</option>
                                    <option value="weekly">Weekly</option>
                                    <option value="bi-weekly">Bi-weekly</option>
                                </select>
                            </div>
                        </div>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Time Constraints for Meal Preparation</label>
                                <select id="meal-preparation-time" name="meal-preparation-time" class="form-control">
                                    <option value="">Select a time constraint</option>
                                    <option value="quick">Quick</option>
                                    <option value="moderate">Moderate</option>
                                    <option value="extensive">Extensive</option>
                                </select>
                            </div>
                        </div>
                        </fieldset>
                        

                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Food Preferences and Restrictions</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Food Allergies</label>
                                <input type="text" id="food-allergies" name="food-allergies" placeholder="Nuts, Dairy, Gluten, Shellfish, etc.">
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Specific Foods to Include or Exclude</label>
                                <input type="text" id="specific-foods" name="specific-foods" placeholder="Enter specific foods to include or exclude">
                            </div>
                        </div>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Dietary Preferences</label>
                                <input type="text" id="diet-preferences" name="diet-preferences" placeholder="Vegetarian, Vegan, Paleo, Keto, etc.">
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Taste Prefered</label>
                                <select id="taste" name="taste" class="form-control">
                                    <option value="">Select your taste</option>
                                    <option value="sweet">Sweet</option>
                                    <option value="sour">Sour</option>
                                    <option value="spicy">Spicy</option>
                                    <option value="salty">Salty</option>
                                    <option value="bitter">Bitter</option>
                                </select>
                            </div>
                        </div>
                        </fieldset>
                        
                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Culinary Preferences & Season</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Cultural or Regional Cuisine Preferences</label>
                                <input type="text" id="cuisine-preferences" name="cuisine-preferences" placeholder="Enter your cultural or regional cuisine preferences">
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Current Season</label>
                                <select id="season" name="season" class="form-control">
                                    <option value="">Select your current season</option>
                                    <option value="spring">Spring</option>
                                    <option value="summer">Summer</option>
                                    <option value="autumn">Autumn</option>
                                    <option value="winter">Winter</option>
                                </select>
                            </div>
                        </div>
                        </fieldset>

                        <fieldset style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px;">
                        <legend style="width: 20%;font-size: 15px;">Health Considerations</legend>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex">
                                <label class="form-control-label px-3">Current Medications or Supplements</label>
                                <input type="text" id="medications-supplements" name="medications-supplements" placeholder="Enter your current medications or supplements">
                            </div>
                            <div class="form-group col-sm-6 flex-column d-flex">
                                    <label class="form-control-label px-3">Medical Conditions</label>
                                    <input type="text" id="medical-conditions" name="medical-conditions" placeholder="Diabetes, Hypertension, etc.">
                            </div>
                        </div>
                        </fieldset>
                        
                        <div class="row justify-content-end">
                            <div class="form-group col-sm-6"> 
                                <button type="button" class="btn-block btn-primary" id="f50s_button" onclick="prepareMeal()">PREPARE A MEAL</button> 
                            </div>
                            
                        </div>
                    </form>
                    

                </div>
            </div>
        </div>
    </div>
    <div id="loader" class="loader" style="display:none;">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="mealPlanModal" tabindex="-1" role="dialog" aria-labelledby="mealPlanModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="mealPlanModalLabel">Meal Plan</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="mealPlanContent">
                <!-- Meal plan content will be inserted here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
            </div>
        </div>
    </div>
  
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
<!-- Bootstrap Bundle JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

<script>
    function prepareMeal() {
        // Retrieve form values
        var age = document.getElementById("age").value;
        var gender = document.getElementById("gender").value;
        var height = document.getElementById("height").value;
        var weight = document.getElementById("weight").value;
        var activityLevel = document.getElementById("activity-level").value;
        var dietPreferences = document.getElementById("diet-preferences").value;
        var foodAllergies = document.getElementById("food-allergies").value;
        var specificFoods = document.getElementById("specific-foods").value;
        var goals = document.getElementById("goals").value;
        var caloricIntake = document.getElementById("caloric-intake").value;
        var macronutrientRatios = document.getElementById("macronutrient-ratios").value;
        var mealPreparationTime = document.getElementById("meal-preparation-time").value;
        var budgetConstraints = document.getElementById("budget-constraints").value;
        var shoppingFrequency = document.getElementById("shopping-frequency").value;
        var cuisinePreferences = document.getElementById("cuisine-preferences").value;
        var medicalConditions = document.getElementById("medical-conditions").value;
        var medicationsSupplements = document.getElementById("medications-supplements").value;
        var mealType = document.getElementById("meal-type").value;
        var season = document.getElementById("season").value;
        var taste = document.getElementById("taste").value;

        // Generate meal plan text
        var mealPlanText = `Generate a meal plan for a ${age}-year-old ${gender} who is ${height} cm tall and weighs ${weight} kg. They lead a ${activityLevel} lifestyle and prefer a ${dietPreferences} diet, avoiding ${foodAllergies}. They have specific preferences for ${specificFoods} and aim to achieve ${goals} with a target caloric intake of ${caloricIntake} calories per day, focusing on a ${macronutrientRatios} macronutrient distribution. They have ${mealPreparationTime} for meal prep, with ${budgetConstraints} budget and ${shoppingFrequency} shopping habits. Their cuisine preference leans towards ${cuisinePreferences}, considering their ${medicalConditions} and taking ${medicationsSupplements}. User's current season was ${season} and prefered taste is ${taste}. Plan for meals including ${mealType}.`;

        // Encode mealPlanText for URL
        var encodedMealPlanText = encodeURIComponent(mealPlanText);

        // Construct the API URL with query parameter
        var apiUrl = `https://fabulous50s.colakin.com/meal_api/generate_meal/?meal_type=${mealType}&user_preferences=${encodedMealPlanText}`;
        // Show the loader
        document.getElementById("loader").style.display = "block";

        // Send POST request to API endpoint using fetch
        fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Accept': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            // Hide the loader
            document.getElementById("loader").style.display = "none";

            // Handle API response here
            console.log('API Response:', data);

            var modalContent = document.getElementById("mealPlanContent");

            // Create a formatted HTML string representation of the data object
            var formattedData = `
                <h2>Recipe Name: ${data.recipe_name}</h2>
                <p><strong>Cooking Time:</strong> ${data.cooking_time}</p>
                <p><strong>Serving:</strong> ${data.serving}</p>
                <h3>Nutrition:</h3>
                <ul>
                    ${data.nutrition.map(item => `<li>${item}</li>`).join('')}
                </ul>

                <h3>Ingredients:</h3>
                <ul>
                    ${data.shopping_list.map(item => `<li>${item}</li>`).join('')}
                </ul>

                <h3>Preparation Steps:</h3>
                <ol>
                    ${data.preperation_step.map((step, index) => `<li>${step}</li>`).join('')}
                </ol>
            `;

            // Set the formatted HTML data as the content of modalContent
            modalContent.innerHTML = formattedData;

            // Show the modal
            $('#mealPlanModal').modal('show');
        })
        .catch(error => {
            // Hide the loader
            document.getElementById("loader").style.display = "none";

            console.error('Error:', error);
            // Handle error gracefully
            var modalContent = document.getElementById("mealPlanContent");
            modalContent.textContent = "An error occurred while generating the meal plan. Please try again.";
            
            // Show the modal
            $('#mealPlanModal').modal('show');
        });
    }


    function autofillForm() {
        var mealType = document.getElementById('meal-type').value;
        var sampleData = getSampleDataForMealType(mealType);
        
        document.getElementById('age').value = sampleData.age;
        document.getElementById('gender').value = sampleData.gender;
        document.getElementById('height').value = sampleData.height;
        document.getElementById('weight').value = sampleData.weight;
        document.getElementById('activity-level').value = sampleData.activityLevel;
        document.getElementById('goals').value = sampleData.goals;
        document.getElementById('caloric-intake').value = sampleData.caloricIntake;
        document.getElementById('macronutrient-ratios').value = sampleData.macronutrientRatios;
        document.getElementById('meal-preparation-time').value = sampleData.mealPreparationTime;
        document.getElementById('budget-constraints').value = sampleData.budgetConstraints;
        document.getElementById('shopping-frequency').value = sampleData.shoppingFrequency;
        document.getElementById('season').value = sampleData.season;
        document.getElementById('taste').value = sampleData.taste;
        document.getElementById('diet-preferences').value = sampleData.dietPreferences;
        document.getElementById('food-allergies').value = sampleData.foodAllergies;
        document.getElementById('specific-foods').value = sampleData.specificFoods;
        document.getElementById('cuisine-preferences').value = sampleData.cuisinePreferences;
        document.getElementById('medical-conditions').value = sampleData.medicalConditions;
        document.getElementById('medications-supplements').value = sampleData.medicationsSupplements;
        document.getElementById('meal-type').value = sampleData.MealType;
    }
    
    function getSampleDataForMealType(mealType) {
        switch (mealType) {
            case 'breakfast':
                return {
                    age: 30,
                    gender: 'female',
                    height: 160,
                    weight: 60,
                    activityLevel: 'moderately-active',
                    goals: 'weight_loss',
                    caloricIntake: 400,
                    mealPreparationTime: 'quick',
                    budgetConstraints: 'medium',
                    shoppingFrequency: 'weekly',
                    season: 'spring',
                    taste: 'spicy',
                    dietPreferences: 'Vegetarian',
                    foodAllergies: 'Nuts',
                    specificFoods: 'Oats',
                    cuisinePreferences: 'American',
                    medicalConditions: 'Low Blood Pressure',
                    medicationsSupplements: 'Multivitamin',
                    macronutrientRatios: '40% Protein',
                    MealType: 'breakfast'
                };
            case 'snack-1':
                return {
                    age: 50,
                    gender: 'female',
                    height: 160,
                    weight: 60,
                    activityLevel: 'moderately-active',
                    goals: 'weight_loss',
                    caloricIntake: 400,
                    mealPreparationTime: 'quick',
                    budgetConstraints: 'medium',
                    shoppingFrequency: 'weekly',
                    season: 'spring',
                    taste: 'spicy',
                    dietPreferences: 'Vegetarian',
                    foodAllergies: 'Nuts',
                    specificFoods: 'Oats',
                    cuisinePreferences: 'American',
                    medicalConditions: 'Low Blood Pressure',
                    medicationsSupplements: 'Multivitamin',
                    macronutrientRatios: '40% Protein',
                    MealType: 'snack-1'
                };
                break;
            case 'lunch':
                return {
                    age: 50,
                    gender: 'female',
                    height: 160,
                    weight: 60,
                    activityLevel: 'moderately-active',
                    goals: 'weight_loss',
                    caloricIntake: 400,
                    mealPreparationTime: 'quick',
                    budgetConstraints: 'medium',
                    shoppingFrequency: 'weekly',
                    season: 'spring',
                    taste: 'spicy',
                    dietPreferences: 'Vegetarian',
                    foodAllergies: 'Nuts',
                    specificFoods: 'Oats',
                    cuisinePreferences: 'American',
                    medicalConditions: 'Low Blood Pressure',
                    medicationsSupplements: 'Multivitamin',
                    macronutrientRatios: '40% Protein',
                    MealType: 'lunch'
                };
                // Add sample data for Lunch
                break;
            case 'snack-2':
                return {
                    age: 50,
                    gender: 'female',
                    height: 160,
                    weight: 60,
                    activityLevel: 'moderately-active',
                    goals: 'weight_loss',
                    caloricIntake: 400,
                    mealPreparationTime: 'quick',
                    budgetConstraints: 'medium',
                    shoppingFrequency: 'weekly',
                    season: 'spring',
                    taste: 'spicy',
                    dietPreferences: 'Vegetarian',
                    foodAllergies: 'Nuts',
                    specificFoods: 'Oats',
                    cuisinePreferences: 'American',
                    medicalConditions: 'Low Blood Pressure',
                    medicationsSupplements: 'Multivitamin',
                    macronutrientRatios: '40% Protein',
                    MealType: 'snack-2'
                };
                // Add sample data for Snack - 2
                break;
            case 'dinner':
                return {
                    age: 50,
                    gender: 'female',
                    height: 160,
                    weight: 60,
                    activityLevel: 'moderately-active',
                    goals: 'weight_loss',
                    caloricIntake: 400,
                    mealPreparationTime: 'quick',
                    budgetConstraints: 'medium',
                    shoppingFrequency: 'weekly',
                    season: 'spring',
                    taste: 'spicy',
                    dietPreferences: 'Vegetarian',
                    foodAllergies: 'Nuts',
                    specificFoods: 'Oats',
                    cuisinePreferences: 'American',
                    medicalConditions: 'Low Blood Pressure',
                    medicationsSupplements: 'Multivitamin',
                    macronutrientRatios: '40% Protein',
                    MealType: 'dinner'
                };
                // Add sample data for Dinner
                break;
            default:
                return {
                    age: 50,
                    gender: 'female',
                    height: 160,
                    weight: 60,
                    activityLevel: 'moderately-active',
                    goals: 'weight_loss',
                    caloricIntake: 400,
                    mealPreparationTime: 'quick',
                    budgetConstraints: 'medium',
                    shoppingFrequency: 'weekly',
                    season: 'spring',
                    taste: 'spicy',
                    dietPreferences: 'Vegetarian',
                    foodAllergies: 'Nuts',
                    specificFoods: 'Oats',
                    cuisinePreferences: 'American',
                    medicalConditions: 'Low Blood Pressure',
                    medicationsSupplements: 'Multivitamin',
                    macronutrientRatios: '40% Protein',
                    MealType: 'breakfast'
                };
        }
    }

</script>

</html>

<!-- ---------------------------------------------------------------- -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bacon, Cheese & Kale Egg Wrap</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
        body{font-family: "Poppins", sans-serif !important;}
        .recipe-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .recipe-title {
            background-color: #a3d3ff;
            color: #000;
            padding: 10px;
            border-radius: 8px 8px 0 0;
            text-align: center;
        }
        .ingredient-list, .preparation {
            margin: 20px 0;
        }
        .notes, .nutrition {
            font-size: 0.9em;
            margin-top: 20px;
        }
        .nutrition table {
            width: 100%;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <div class="recipe-card">
        <div class="recipe-title">
            <h2>Bacon, Cheese & Kale Egg Wrap</h2>
            <p>2 Servings, 20 Minutes</p>
        </div>
        <div class="row">
            <div class="col-md-6 ingredient-list">
                <h4>Ingredient List</h4>
                <ul>
                    <li>2 slices Bacon</li>
                    <li>4 Eggs (large)</li>
                    <li>4 tbsp Water</li>
                    <li>Sea Salt & Black Pepper (to taste)</li>
                    <li>2 tsp Avocado Oil</li>
                    <li>2 slices Havarti Cheese (sliced)</li>
                    <li>2 cups Baby Kale</li>
                </ul>
            </div>
            <div class="col-md-6 preparation">
                <h4>Preparation</h4>
                <ol>
                    <li>Cook the bacon in a pan over medium heat for five minutes or until crisp. Drain on a paper towel and set aside.</li>
                    <li>Meanwhile, whisk the eggs, water, salt, and pepper.</li>
                    <li>Heat a medium non-stick pan over medium heat. Evenly coat it with oil.</li>
                    <li>Pour in the egg mixture to form a layer along the bottom of the skillet.</li>
                    <li>Tilt and rotate the pan to allow the uncooked egg to flow into empty spaces.</li>
                    <li>Cook for about two minutes or until the egg is cooked. Set aside.</li>
                    <li>To serve, layer the cheese, kale, and bacon down the center of the egg.</li>
                    <li>Roll or fold it all together and enjoy!</li>
                </ol>
            </div>
        </div>

        <div class="nutrition">
            <h4>Nutrition Information (Amount Per Serve)</h4>
            <table class="table table-bordered">
                <tr>
                    <td>Calories</td>
                    <td>370</td>
                    <td>Fat</td>
                    <td>29g</td>
                    <td>Fiber</td>
                    <td>1g</td>
                    <td>Protein</td>
                    <td>24g</td>
                    <td>Cholesterol</td>
                    <td>370mg</td>
                </tr>
                <tr>
                    <td>Sodium</td>
                    <td>760mg</td>
                    <td>Vitamin A</td>
                    <td>552IU</td>
                    <td>Calcium</td>
                    <td>104mg</td>
                    <td>Iron</td>
                    <td>2mg</td>
                    <td>Vitamin C</td>
                    <td>14mg</td>
                </tr>
                <tr>
                    <td>Vitamin D</td>
                    <td>41IU</td>
                    <td>Vitamin E</td>
                    <td>3mg</td>
                    <td>Vitamin K</td>
                    <td>90mcg</td>
                    <td>Folate</td>
                    <td>60mcg</td>
                    <td>Zinc</td>
                    <td>2mg</td>
                </tr>
            </table>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
<!-- ---------------------------------------------------------------- -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plan</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .recipe-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .recipe-title {
            background-color: #a3d3ff;
            color: #000;
            padding: 10px;
            border-radius: 8px 8px 0 0;
            text-align: center;
        }
        .ingredient-list, .preparation {
            margin: 20px 0;
        }
        .notes, .nutrition {
            font-size: 0.9em;
            margin-top: 20px;
        }
        .nutrition table {
            width: 100%;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <div id="meal-container" class="recipe-card">
        <!-- Dynamic meal plan content will be inserted here -->
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    // Fetch meal plan data from URL parameters and display it
    document.addEventListener("DOMContentLoaded", function() {
        var urlParams = new URLSearchParams(window.location.search);
        var mealPlanData = JSON.parse(decodeURIComponent(urlParams.get('mealPlanData')));

        var recipeName = mealPlanData.recipe_name || 'N/A';
        var cookingTime = mealPlanData.cooking_time || 'N/A';
        var serving = mealPlanData.serving || 'N/A';
        var shoppingList = mealPlanData.shopping_list || [];
        var preparationSteps = mealPlanData.preparation_step || [];
        var nutrition = mealPlanData.nutrition || [];
        var imageUrl = mealPlanData.image_url || 'N/A';

        var formattedData = `
            <div class="recipe-title">
                <h2>${recipeName}</h2>
                <p>${serving} Servings, ${cookingTime} Minutes</p>
            </div>
            <img src="${imageUrl}" class="mealimage full-width-image">
            <div class="row">
                <div class="col-md-6 ingredient-list">
                    <h4>Ingredient List</h4>
                    <ul>
                        ${shoppingList.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
                <div class="col-md-6 preparation">
                    <h4>Preparation</h4>
                    <ol>
                        ${preparationSteps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>
            </div>
            <div class="nutrition">
                <h4>Nutrition Information (Amount Per Serve)</h4>
                <table class="table table-bordered">
                    ${nutrition.map(item => `
                    <tr>
                        <td>${item.name}</td>
                        <td>${item.value}</td>
                    </tr>`).join('')}
                </table>
            </div>
        `;

        var mealContainer = document.getElementById("meal-container");
        mealContainer.innerHTML = formattedData;
    });
</script>
</body>
</html>

<script>
var mealPlanData = {
    recipe_name: "Bacon, Cheese & Kale Egg Wrap",
    cooking_time: "20",
    serving: "2",
    shopping_list: ["2 slices Bacon", "4 Eggs (large)", "4 tbsp Water", "Sea Salt & Black Pepper (to taste)", "2 tsp Avocado Oil", "2 slices Havarti Cheese (sliced)", "2 cups Baby Kale"],
    preparation_step: ["Cook the bacon in a pan over medium heat for five minutes or until crisp. Drain on a paper towel and set aside.", "Meanwhile, whisk the eggs, water, salt, and pepper.", "Heat a medium non-stick pan over medium heat. Evenly coat it with oil.", "Pour in the egg mixture to form a layer along the bottom of the skillet.", "Tilt and rotate the pan to allow the uncooked egg to flow into empty spaces.", "Cook for about two minutes or until the egg is cooked. Set aside.", "To serve, layer the cheese, kale, and bacon down the center of the egg.", "Roll or fold it all together and enjoy!"],
    nutrition: [{name: "Calories", value: "370"}, {name: "Fat", value: "29g"}, {name: "Fiber", value: "1g"}, {name: "Protein", value: "24g"}, {name: "Cholesterol", value: "370mg"}, {name: "Sodium", value: "760mg"}, {name: "Vitamin A", value: "552IU"}, {name: "Calcium", value: "104mg"}, {name: "Iron", value: "2mg"}, {name: "Vitamin C", value: "14mg"}, {name: "Vitamin D", value: "41IU"}, {name: "Vitamin E", value: "3mg"}, {name: "Vitamin K", value: "90mcg"}, {name: "Folate", value: "60mcg"}, {name: "Zinc", value: "2mg"}],
    image_url: "https://example.com/image.jpg"
};

var encodedMealPlanData = encodeURIComponent(JSON.stringify(mealPlanData));
// window.location.href = `meal-plan.html?mealPlanData=${encodedMealPlanData}`;
</script>
----------------------------------------------------------------
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plan</title>
    <style>
        .recipe-card { margin: 20px; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
        .recipe-title { text-align: center; }
        .mealimage { width: 100%; max-width: 400px; display: block; margin: 20px auto; }
        .ingredient-list, .preparation { margin-top: 20px; }
        .nutrition { margin-top: 20px; }
    </style>
</head>
<body>
    <div id="meal-container" class="meal-container"></div>

    <script>
        // Retrieve meal plan data from localStorage
        var mealPlanData = JSON.parse(localStorage.getItem('mealPlanData'));

        // Construct the HTML for displaying the meal plan data
        var formattedData = `
            <div class="recipe-card">
                <div class="recipe-title">
                    <h2 id="recipe-name">${mealPlanData.recipeName}</h2>
                    <p id="recipe-info">Cooking Time: ${mealPlanData.cookingTime}, Serving: ${mealPlanData.serving}</p>
                </div>
                <img src="${mealPlanData.imageUrl}" class="mealimage full-width-image">
                <div class="row">
                    <div class="col-md-6 ingredient-list">
                        <h4 style="color:#6e4bd0;">Ingredients:</h4>
                        <ul>
                            ${mealPlanData.shoppingList.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                    <div class="col-md-6 preparation">
                        <h4 style="color:#6e4bd0;">Preparation Steps:</h4>
                        <ol>
                            ${mealPlanData.preparationSteps.map(step => `<li>${step}</li>`).join('')}
                        </ol>
                    </div>
                </div>
                <div class="nutrition">
                    <h4 style="color:#6e4bd0;">Nutrition Information:</h4>
                    <ul>
                        ${mealPlanData.nutrition.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            </div>
        `;

        // Update the meal container with formattedData
        var mealContainer = document.getElementById("meal-container");
        mealContainer.innerHTML = formattedData;
    </script>
</body>
</html>
<!-- ---------------------------------------------------------------- -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plan</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
        body{font-family: "Poppins", sans-serif !important;}
        .recipe-card {
            background: #fefefe;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .recipe-title {
            background: linear-gradient(180deg, #99b2f4, #8b91e9, #6e4bd0);
            color: #ffffff;
            padding: 10px;
            border-radius: 8px 8px 0 0;
            text-align: center;
        }
        .ingredient-list, .preparation {
            margin: 20px 0;
        }
        .notes, .nutrition {
            font-size: 0.9em;
            margin-top: 20px;
        }
        .nutrition table {
            width: 100%;
        }
        .full-width-image {
            width: 100%;
            height: auto;
        }
        h4{
            color: #8074df;
        }
        /* body {
        margin: 0;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-family: sans-serif;
        } */

        h1,
        p {
        margin: 0;
        padding: 0;
        line-height: 1.5;
        }

        .app {
        width: 90%;
        max-width: 500px;
        margin: 0 auto;
        }
        .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        }

        .item {
        width: 90px;
        height: 90px;
        display: flex;
        justify-content: center;
        align-items: center;
        user-select: none;
        }
        .radio {
        display: none;
        }
        .radio ~ span {
        font-size: 3rem;
        filter: grayscale(100);
        cursor: pointer;
        transition: 0.3s;
        }

        .radio:checked ~ span {
        filter: grayscale(0);
        font-size: 4rem;
        }
        .back-link {
            /* font-family: "Gilroy", Sans-serif; */
            font-size: 16px;
            font-weight: 600;
            text-transform: none;
            line-height: 1em;
            letter-spacing: 0px;
            width: 50%;
            /* background: linear-gradient(180deg, #99b2f4, #8b91e9, #6e4bd0);
            */
            background: linear-gradient(180deg, #99b2f4, #8b91e9, #6e4bd0);
            color: white;
            border-style: solid;
            border-width: .9px;
            border-color: white;
            border-radius: 30px !important;
            box-shadow: 0px 0px 6px 1px #7a57db;
        }
        .navbar-light{
            background-color: #8984e4 !important;
            height: 90px;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"><img width="60" height="60" src="https://fabulous50s.com/wp-content/uploads/2023/08/logo-2.svg" class="attachment-full size-full wp-image-36441" alt></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
            </ul>
        </div>
    </div>
</nav>
<div class="container mt-5">
    <div id="meal-container" class="recipe-card">
        <!-- Dynamic meal plan content will be inserted here -->
        
    </div>
    
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- <script>
    
    // Fetch meal plan data from URL parameters and display it
    document.addEventListener("DOMContentLoaded", function() {
        var urlParams = new URLSearchParams(window.location.search);
        var mealPlanData = JSON.parse(decodeURIComponent(urlParams.get('mealPlanData')));

        var recipeName = mealPlanData.recipeName || 'N/A';
        var cookingTime = mealPlanData.cookingTime || 'N/A';
        var serving = mealPlanData.serving || 'N/A';
        var shoppingList = mealPlanData.shoppingList || [];
        var preparationSteps = mealPlanData.preparationSteps || [];
        var nutrition = mealPlanData.nutrition || [];
        var imageUrl = mealPlanData.imageUrl && mealPlanData.imageUrl !== 'N/A' ? mealPlanData.imageUrl : 'https://via.placeholder.com/500';

        var formattedData = `
            <div class="recipe-title">
                <h2>${recipeName}</h2>
                <p>${serving} Servings, ${cookingTime} Minutes</p>
            </div>
            <img src="${imageUrl}" class="mealimage full-width-image" alt="Meal Image">
            <div class="row">
                <div class="col-md-6 ingredient-list">
                    <h4>Ingredient List</h4>
                    <ul>
                        ${shoppingList.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
                <div class="col-md-6 preparation">
                    <h4>Preparation</h4>
                    <ol>
                        ${preparationSteps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>
            </div>
            <div class="nutrition">
                <h4>Nutrition Information (Amount Per Serve)</h4>
                <table class="table table-bordered">
                    ${nutrition.map(item => `
                    <tr>
                        <td>${item}</td>
                    </tr>`).join('')}
                </table>
            </div>
            <div class="app">
                <center><h4>Was this meal useful?</h4></center>
                <div class="container">
                    <div class="item">
                        <label for="0">
                            <input class="radio" type="radio" name="feedback" id="0" value="0">
                            <span>🤬</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="1">
                            <input class="radio" type="radio" name="feedback" id="1" value="1">
                            <span>🙁</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="2">
                            <input class="radio" type="radio" name="feedback" id="2" value="2">
                            <span>😶</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="3">
                            <input class="radio" type="radio" name="feedback" id="3" value="3">
                            <span>😁</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="4">
                            <input class="radio" type="radio" name="feedback" id="4" value="4">
                            <span>😍</span>
                        </label>
                    </div>
                </div>
            </div>
            <center><a href="index.html" class="btn btn-primary back-link">Go Back to Main Page</a></center>
        `;

        var mealContainer = document.getElementById("meal-container");
        mealContainer.innerHTML = formattedData;
    });
</script> -->
<script>
    // Fetch meal plan data from URL parameters and display it
    document.addEventListener("DOMContentLoaded", function() {
        var urlParams = new URLSearchParams(window.location.search);
        var mealPlanData = JSON.parse(decodeURIComponent(urlParams.get('mealPlanData')));

        var recipeName = mealPlanData.recipeName || 'N/A';
        var cookingTime = mealPlanData.cookingTime || 'N/A';
        var serving = mealPlanData.serving || 'N/A';
        var shoppingList = mealPlanData.shoppingList || [];
        var preparationSteps = mealPlanData.preparationSteps || [];
        var nutrition = mealPlanData.nutrition || [];
        var imageUrl = mealPlanData.imageUrl && mealPlanData.imageUrl !== 'N/A' ? mealPlanData.imageUrl : 'https://via.placeholder.com/500';

        var formattedData = `
            <div class="recipe-title">
                <h2>${recipeName}</h2>
                <p>${serving} Servings, ${cookingTime} Minutes</p>
            </div>
            <img src="${imageUrl}" class="mealimage full-width-image" alt="Meal Image">
            <div class="row">
                <div class="col-md-6 ingredient-list">
                    <h4>Ingredient List</h4>
                    <ul>
                        ${shoppingList.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
                <div class="col-md-6 preparation">
                    <h4>Preparation</h4>
                    <ol>
                        ${preparationSteps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>
            </div>
            <div class="nutrition">
                <h4>Nutrition Information (Amount Per Serve)</h4>
                <table class="table table-bordered">
                    ${nutrition.map(item => `
                    <tr>
                        <td>${item}</td>
                    </tr>`).join('')}
                </table>
            </div>
            <div class="app">
                <center><h4>Was this meal useful?</h4></center>
                <div class="container">
                    <div class="item">
                        <label for="0">
                            <input class="radio" type="radio" name="feedback" id="0" value="🤬">
                            <span>🤬</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="1">
                            <input class="radio" type="radio" name="feedback" id="1" value="🙁">
                            <span>🙁</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="2">
                            <input class="radio" type="radio" name="feedback" id="2" value="😶">
                            <span>😶</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="3">
                            <input class="radio" type="radio" name="feedback" id="3" value="😁">
                            <span>😁</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="4">
                            <input class="radio" type="radio" name="feedback" id="4" value="😍">
                            <span>😍</span>
                        </label>
                    </div>
                </div>
            </div>
            <center><a href="index.html" class="btn btn-primary back-link">Go Back to Main Page</a></center>
        `;

        var mealContainer = document.getElementById("meal-container");
        mealContainer.innerHTML = formattedData;

        // Add event listeners to emoji buttons
        var feedbackRadios = document.querySelectorAll('.radio');
        feedbackRadios.forEach(function(radio) {
            radio.addEventListener('change', function() {
                var review = this.value;
                saveMealDataToAirtable(recipeName, cookingTime, serving, shoppingList, preparationSteps, nutrition, imageUrl, review);
            });
        });
    });

    function saveMealDataToAirtable(recipeName, cookingTime, serving, shoppingList, preparationSteps, nutrition, imageUrl, review) {
        var data = {
            'fields': {
                'user_name': 'meal_app',
                'meal_type': 'N/A',  // You can set this dynamically if needed
                'recipe': recipeName,
                'ingredients': shoppingList.join(', '),
                'cooking_instruction': preparationSteps.join(', '),
                'status': 'completed',
                'nutrition': nutrition.join(', '),
                'image': imageUrl,
                'cooking_time': cookingTime,
                'serving': serving,
                'reviews': review
            }
        };

        fetch('https://api.airtable.com/v0/appAGxrSU8fcqg5kJ/tblyILjVSp2dVovCx', {
            method: 'POST',
            headers: {
                'Authorization': 'Bearer patXM2BHfAqiHM2kx.b67f0ea418ea122677bd765ccb629e291f0976bf2375c0d45a252f18c7ff2d86',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
        .then(data => {
            if(data.error){
                alert(`Error: ${data.error.message}`);
            } else {
                alert('Your review has been saved. Thank you!');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('There was an error saving your review. Please try again.');
        });
    }
</script>
</body>
</html>