<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Plan</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
        body{font-family: "Poppins", sans-serif !important;}
        .recipe-card {
            background: #fefefe;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .recipe-title {
            background: linear-gradient(180deg, #99b2f4, #8b91e9, #6e4bd0);
            color: #ffffff;
            padding: 10px;
            border-radius: 8px 8px 0 0;
            text-align: center;
        }
        .ingredient-list, .preparation {
            margin: 20px 0;
        }
        .notes, .nutrition {
            font-size: 0.9em;
            margin-top: 20px;
        }
        .nutrition table {
            width: 100%;
        }
        .full-width-image {
            width: 100%;
            height: auto;
        }
        h4{
            color: #8074df;
        }
        /* body {
        margin: 0;
        text-align: center;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-family: sans-serif;
        } */

        h1,
        p {
        margin: 0;
        padding: 0;
        line-height: 1.5;
        }

        .app {
        width: 90%;
        max-width: 500px;
        margin: 0 auto;
        }
        .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        }

        .item {
        width: 90px;
        height: 90px;
        display: flex;
        justify-content: center;
        align-items: center;
        user-select: none;
        }
        .radio {
        display: none;
        }
        .radio ~ span {
        font-size: 3rem;
        filter: grayscale(100);
        cursor: pointer;
        transition: 0.3s;
        }

        .radio:checked ~ span {
        filter: grayscale(0);
        font-size: 4rem;
        }

    </style>
</head>
<body>
<div class="container mt-5">
    <div id="meal-container" class="recipe-card">
        <!-- Dynamic meal plan content will be inserted here -->
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- <script>
    // Fetch meal plan data from URL parameters and display it
    document.addEventListener("DOMContentLoaded", function() {
        var urlParams = new URLSearchParams(window.location.search);
        var mealPlanData = JSON.parse(decodeURIComponent(urlParams.get('mealPlanData')));

        var recipeName = mealPlanData.recipe_name || 'N/A';
        var cookingTime = mealPlanData.cooking_time || 'N/A';
        var serving = mealPlanData.serving || 'N/A';
        var shoppingList = mealPlanData.shopping_list || [];
        var preparationSteps = mealPlanData.preparation_step || [];
        var nutrition = mealPlanData.nutrition || [];
        var imageUrl = mealPlanData.image_url || 'N/A';

        var formattedData = `
            <div class="recipe-title">
                <h2>${recipeName}</h2>
                <p>${serving} Servings, ${cookingTime} Minutes</p>
            </div>
            <img src="${imageUrl}" class="mealimage full-width-image">
            <div class="row">
                <div class="col-md-6 ingredient-list">
                    <h4>Ingredient List</h4>
                    <ul>
                        ${shoppingList.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
                <div class="col-md-6 preparation">
                    <h4>Preparation</h4>
                    <ol>
                        ${preparationSteps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>
            </div>
            <div class="nutrition">
                <h4>Nutrition Information (Amount Per Serve)</h4>
                <table class="table table-bordered">
                    ${nutrition.map(item => `
                    <tr>
                        <td>${item}</td>
                    </tr>`).join('')}
                </table>
            </div>
            <div class="app">
                <center><h4>Was this meal was useful?</h4></center>

                <div class="container">
                    <div class="item">
                    <label for="0">
                    <input class="radio" type="radio" name="feedback" id="0" value="0">
                    <span>ü§¨</span>
                    </label>
                    </div>

                    <div class="item">
                    <label for="1">
                    <input class="radio" type="radio" name="feedback" id="1" value="1">
                    <span>üôÅ</span>
                    </label>
                    </div>

                    <div class="item">
                    <label for="2">
                    <input class="radio" type="radio" name="feedback" id="2" value="2">
                    <span>üò∂</span>
                    </label>
                    </div>

                    <div class="item">
                    <label for="3">
                    <input class="radio" type="radio" name="feedback" id="3" value="3">
                    <span>üòÅ</span>
                    </label>
                    </div>

                    <div class="item">
                    <label for="4">
                    <input class="radio" type="radio" name="feedback" id="4" value="4">
                    <span>üòç</span>
                    </label>
                    </div>

                </div>
            </div>
                
            
        `;

        var mealContainer = document.getElementById("meal-container");
        mealContainer.innerHTML = formattedData;
    });
</script> -->
<script>
    // Fetch meal plan data from URL parameters and display it
    document.addEventListener("DOMContentLoaded", function() {
        var urlParams = new URLSearchParams(window.location.search);
        var mealPlanData = JSON.parse(decodeURIComponent(urlParams.get('mealPlanData')));

        var recipeName = mealPlanData.recipeName || 'N/A';
        var cookingTime = mealPlanData.cookingTime || 'N/A';
        var serving = mealPlanData.serving || 'N/A';
        var shoppingList = mealPlanData.shoppingList || [];
        var preparationSteps = mealPlanData.preparationSteps || [];
        var nutrition = mealPlanData.nutrition || [];
        var imageUrl = mealPlanData.imageUrl && mealPlanData.imageUrl !== 'N/A' ? mealPlanData.imageUrl : 'https://via.placeholder.com/500';

        var formattedData = `
            <div class="recipe-title">
                <h2>${recipeName}</h2>
                <p>${serving} Servings, ${cookingTime} Minutes</p>
            </div>
            <img src="${imageUrl}" class="mealimage full-width-image" alt="Meal Image">
            <div class="row">
                <div class="col-md-6 ingredient-list">
                    <h4>Ingredient List</h4>
                    <ul>
                        ${shoppingList.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
                <div class="col-md-6 preparation">
                    <h4>Preparation</h4>
                    <ol>
                        ${preparationSteps.map(step => `<li>${step}</li>`).join('')}
                    </ol>
                </div>
            </div>
            <div class="nutrition">
                <h4>Nutrition Information (Amount Per Serve)</h4>
                <table class="table table-bordered">
                    ${nutrition.map(item => `
                    <tr>
                        <td>${item.name}</td>
                        <td>${item.value}</td>
                    </tr>`).join('')}
                </table>
            </div>
            <div class="app">
                <center><h4>Was this meal useful?</h4></center>
                <div class="container">
                    <div class="item">
                        <label for="0">
                            <input class="radio" type="radio" name="feedback" id="0" value="0">
                            <span>ü§¨</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="1">
                            <input class="radio" type="radio" name="feedback" id="1" value="1">
                            <span>üôÅ</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="2">
                            <input class="radio" type="radio" name="feedback" id="2" value="2">
                            <span>üò∂</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="3">
                            <input class="radio" type="radio" name="feedback" id="3" value="3">
                            <span>üòÅ</span>
                        </label>
                    </div>
                    <div class="item">
                        <label for="4">
                            <input class="radio" type="radio" name="feedback" id="4" value="4">
                            <span>üòç</span>
                        </label>
                    </div>
                </div>
            </div>
        `;

        var mealContainer = document.getElementById("meal-container");
        mealContainer.innerHTML = formattedData;
    });
</script>
</body>
</html>